# 离散小提琴图生成器

离散小提琴图是一种统计可视化工具，它结合了箱形图和核密度图的特点，能够直观展示数据分布、密度和关键统计数据。

本工具支持单数据集（镜像显示）或双数据集（左右分别显示）的可视化。

这种图表特别适合比较不同组别或类别的数据分布，可以快速发现数据的中心趋势、分散程度和异常值。

## 特性

*   **双数据集支持**：可同时输入和比较两组数据，或仅输入一组数据进行镜像显示。
*   **灵活的数据输入**：支持通过文本框手动输入数据（逗号或换行分隔），或从预设的示例数据集中选择。
*   **可定制的图表**：可调整 Bin 数量、图表标题、坐标轴标签和范围、柱状图颜色。
*   **多种统计线**：可选择显示中位数、均值、第一四分位数 (Q1)、第三四分位数 (Q3) 以及均值 ± 标准差的统计线，并自定义其颜色和线宽。
*   **详细的统计输出**：为每个数据集显示样本数量、最小值、最大值、Q1、中位数、Q3、均值、标准差和四分位距 (IQR)。
*   **图表下载**：生成的图表可以下载为 PNG 或 SVG 格式。
*   **单文件HTML导出**：可以将整个应用（HTML, CSS, JavaScript）合并为一个单一的 HTML 文件 (`plot_generator.html`)。下载此文件到本地计算机后，直接用浏览器打开即可运行，无需服务器或网络连接。

## 如何使用本工具

1.  **数据输入**：
    *   使用“选择示例数据”下拉菜单为左侧或右侧数据区快速填充数据。
    *   或在“左侧数据”和“右侧数据”（可选）输入框中手动输入数值。如果右侧数据为空，左侧数据将镜像显示。
    *   数据可以使用逗号或换行分隔。
2.  **图表设置**：
    *   设置图表参数，如 Bin 数量、图表标题、坐标轴标签和范围、左右两侧条形图的颜色等。
3.  **统计线设置**：
    *   选择要显示的统计线（中位数、均值、四分位数等），并可自定义其颜色和线宽。这些设置将应用于所有存在的数据集。
4.  **生成图表**：
    *   点击“生成图表”按钮预览结果和统计信息。
5.  **下载图表**：
    *   满意后，可以点击“下载 PNG”或“下载 SVG”按钮下载图表。

## 如何运行单文件版本

项目包含一个 Python 脚本 `combine_files.py`，可以将 `index.html`, `style.css`, 和 `script.js` 合并成一个名为 `plot_generator.html` 的单一 HTML 文件。

1.  确保您的计算机上安装了 Python。
2.  打开终端或命令提示符。
3.  导航到项目目录： `cd path\to\histogram_generator`
4.  运行脚本： `python combine_files.py`
5.  执行成功后，会在项目目录下生成 `plot_generator.html` 文件。
6.  将 `plot_generator.html` 文件下载或复制到您的本地计算机。
7.  使用任何现代网页浏览器打开 `plot_generator.html` 文件即可使用该工具。

## 如何解读小提琴图

*   图形的宽度表示在该数值范围内的数据密度。
*   如果输入两组数据，左侧图形对应左侧数据，右侧图形对应右侧数据。
*   **红色线** 表示中位数 (Median)。
*   **绿色线** 表示第一四分位数 (Q1, 25%)。
*   **蓝色线** 表示第三四分位数 (Q3, 75%)。
*   **橙色线** 表示均值 (Mean)。
*   **紫色线** 表示均值 ± 标准差 (Mean ± StdDev) 的范围。
*   当有两组数据时，统计线会分别绘制在各自的半区。

## 文件结构

*   `index.html`:主要的HTML结构文件。
*   `style.css`: 样式表文件。
*   `script.js`: JavaScript逻辑文件，包含图表生成和统计计算。
*   `combine_files.py`: Python脚本，用于将上述三个文件合并为单一的 `plot_generator.html`。
*   `plot_generator.html`: (由 `combine_files.py` 生成) 单一的可独立运行的HTML文件。
*   `README.md`: 本说明文件。

## 技术栈

*   HTML5
*   CSS3
*   JavaScript (ES6+)
*   Plotly.js (用于图表绘制)
*   Python (用于文件合并脚本)

## 许可

本项目根据 MIT 许可证授权。详情请参阅 `LICENSE` 文件。